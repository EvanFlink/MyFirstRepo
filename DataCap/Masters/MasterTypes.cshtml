@{

    var sSQL2 = "SELECT Master_ID as Item_ID, Master as Item, Active FROM Master_Types";
    switch (Request["ActiveStr"]){
            case "Active": sSQL2 = sSQL2 + " where Active = 1"; break;
            case "Inactive": sSQL2 = sSQL2 + " where Active = 0"; break;
        }

    var ActiveList = new string[]{"Active", "Inactive", "All"};
    var db = Database.Open("DDIncV2");
    var sel_MTypes = db.Query(sSQL2, Request["ActiveStr"]);
    var gMTypes = new WebGrid(sel_MTypes, rowsPerPage: 10);
    
}

<h2>Master Types</h2><br/>

<form action="" method="post">
        <label for="ActiveStr" class="control-label">Show Active/Inactive</label>
       <div class="form-group form-inline">
            <select name="ActiveStr" size="1" class="form-control" style="width:200px;" >
                <option disabled selected> -- select an option -- </option>
                @foreach (var listItem in ActiveList) {
                <option @(Request["ActiveStr"] == listItem ? " selected=\"selected\"" : "")>@listItem</option>
                }
                </select>
                <input type="submit" value="Select" class="btn btn-md btn-default" />
        </div><br/>


<div style ="max-width: 500px; margin-left:2%;">
<div class="table-responsive">
    @gMTypes.GetHtml(
    tableStyle: "table webgrid-table",
    headerStyle: "webgrid-header",
    footerStyle: "webgrid-footer",
    alternatingRowStyle: "webgrid-alternating-row",
    selectedRowStyle: "webgrid-selected-row",
    rowStyle: "webgrid-row-style",
    mode: WebGridPagerModes.All,
    columns: 
    gMTypes.Columns(
        gMTypes.Column("Item_ID", header: "Action", format: 
        @<text><a class="btn btn-default btn-xs" title="Edit This Item" href="~/DataCap/Masters/EditMstrTypes.cshtml?id=@item.Item_ID" >E</a>
        </text> ),
        gMTypes.Column("Item", "Type Name"),
        gMTypes.Column("Active", "Active")
        )
    ) 
    <p>&nbsp</p>
</div>
</div>
</form>

<p>
    <a class="btn btn-default btn-lg" href="~/index.cshtml" >Home</a>
   &nbsp
    <a class="btn btn-default btn-lg" href="CreateMstrType.cshtml" >Create a New Master Type</a>
</p>

@section script{
<script type="text/javascript">
    $(function () {
        //        $('th a, tfoot a').live('click', function() {
        $(document).on('click', 'th a, tfoot a', function () {
            $('form').attr('action', $(this).attr('href')).submit();
            return false;
        });
    });
</script>
}